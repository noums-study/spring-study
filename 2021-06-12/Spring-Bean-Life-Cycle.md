# 2021-06-12

## 주제

- 빈 생명주기
- 스프링 프로젝트(피자 공장) 코드 파악하기

### 관련 키워드
- 초기화 콜백, 소멸 전 콜백
- @PostConstruct, @PreDestroy
- 팩토리 패턴

----

<br>


### 요약

스프링 컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 -> 사용 -> 소멸전 콜백 -> 스프링 종료

#### 인터페이스로 초기화/소멸 메서드 구현

1. 사용 안한다고 하지만 사용 되는경우가 많음. 
why?

- Implements 에 명시적으로 쓰기 때문에 확인하기가 편함.
- 어노테이션이 편리하긴 하지만 결국 다 찾아봐야 알 수 있기 때문에 인터페이스 사용방법을 유지하는 경우가 많다. 

2. 스프링에 종속적이다 ? -> 크게 신경쓰지 않아도 될 경우가 많다.

<br>


#### @bean 속성으로 초기화/소멸 메서드 구현

-> 외부 라이브러리에 적용 가능한 이유 : 
외부라이브러리 내부에서 초기화/종료를 정의할 수 없음.but 외부 라이브러리를 호출하는 클래스 파일내에서 메소드를 생성해서 받아 사용할 수 있다 .

<br>

#### 초기화/소멸 메서드 사용시 유의점
- LifeCycle을 상속받아 구현한 별도의 객체를 초기화/소멸 메서드에서 사용하게 되면 에러가 발생하는 경우가 있다.
- 그 이유는 스프링 컨테이너가 동작하면서 빈 생성, 의존관계 주입 등은 이루어졌지만 그 안에 별도의 LifeCycle이 있는 경우 그 LifeCycle은 시작되지 않아서 에러가 발생할 수 있다.
- 이런 경우가 주로 integration 또는 messaging 관련 객체를 초기화/소멸 메서드에서 사용시 볼 수 있다. 
- 기본적인 라이프 사이클은 스프링 컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 -> 사용 -> 소멸전 콜백 -> 스프링 종료 이지만, 별도로 구현한 라이프 사이클의 경우 ... 초기화 콜백 -> 별도 라이프 사이클 시작 -> 사용 -> 별도 라이프 사이클 종료 -> 소멸전 콜백 ... 으로 진행된다.

---


## 참여자

- [승연](https://github.com/ssyoni)
- [지현](https://github.com/choejee)
- [나래](https://github.com/mumblecoder)

  
<br/>

## 벌금 💸
